<div class="container">
	<h1>File Upload</h1>
	<form id='form' encType="multipart/form-data">
		<div class="input-group">
			<label for='name'>Your name</label>
			<input name='name' id='name' placeholder="Enter your name" />
		</div>
		<div class="input-group">
			<label for='files'>Select files</label>
			<input id='files' type="file" multiple>
		</div>
		<button class="submit-btn" type='submit'>Upload</button>
	</form>
</div>
<script>
	const form = document.getElementById("form");
	form.addEventListener("submit", submitForm);
	function submitForm(e) {
			e.preventDefault();
			const name = document.getElementById("name");
			const files = document.getElementById("files");
			const formData = new FormData();
			formData.append("name", name.value);
			for(let i =0;i < files.files.length;i++) {
		   formData.append("files", files.files[i]);
   }
   fetch("/upload_files", {
	   method: 'POST',
	   body: formData,
/*	   
	   headers: {
		 "Content-Type": "multipart/form-data"
	  }*/
   })
   .then((res) =>{ 
		alert("업로드 성공");
       console.log(res)
   })
	.catch((err) =>{ 
		alert("Error 010-8977-6915문의 바랍니다.");
		("Error occured", err)
	});
	}
</script>	
